<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developer-guide/scalable-setup" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Scalable PlugNmeet Deployment | A Guide to Distributed Setups | plugNmeet | Open Source Web Conferencing System</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.plugnmeet.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.plugnmeet.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.plugnmeet.org/docs/developer-guide/scalable-setup"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Scalable PlugNmeet Deployment | A Guide to Distributed Setups | plugNmeet | Open Source Web Conferencing System"><meta data-rh="true" name="description" content="A high-level guide for scaling a self-hosted plugNmeet deployment. Learn how to create a distributed, multi-server architecture with clustered LiveKit, NATS, and more for high availability."><meta data-rh="true" property="og:description" content="A high-level guide for scaling a self-hosted plugNmeet deployment. Learn how to create a distributed, multi-server architecture with clustered LiveKit, NATS, and more for high availability."><meta data-rh="true" name="keywords" content="scalable webrtc,distributed setup,plugnmeet scaling,high availability,load balancing,livekit cluster,nats cluster,redis cluster,self-hosted scaling,enterprise webrtc"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.plugnmeet.org/docs/developer-guide/scalable-setup"><link data-rh="true" rel="alternate" href="https://www.plugnmeet.org/docs/developer-guide/scalable-setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.plugnmeet.org/docs/developer-guide/scalable-setup" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Scalable Deployment","item":"https://www.plugnmeet.org/docs/developer-guide/scalable-setup"}]}</script><link rel="stylesheet" href="/assets/css/styles.c0c693cb.css">
<script src="/assets/js/runtime~main.4e18329c.js" defer="defer"></script>
<script src="/assets/js/main.b881718e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_xGwE" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="plugNmeet" class="themedComponent_ukCi themedComponent--light_Yo7Y"><img src="/img/logo.png" alt="plugNmeet" class="themedComponent_ukCi themedComponent--dark_SmbJ"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/user-guide/overview">User Guide</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/api/intro">API</a><a href="https://www.plugnmeet.cloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Cloud<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a><a href="https://plugnmeet.medium.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a><a href="https://demo.plugnmeet.com/landing.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Demo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/mynaparrot/plugNmeet-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_JbvP colorModeToggle_mUMd"><button class="clean-btn toggleButton_xidH toggleButtonDisabled_i4_N" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_erwt lightToggleIcon_xKac"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_erwt darkToggleIcon_VbW_"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_erwt systemToggleIcon_yY0a"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_mqow"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper__SMy"><div class="docsWrapper_TSHB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_jbAv" type="button"></button><div class="docRoot_uWog"><aside class="theme-doc-sidebar-container docSidebarContainer_eXv2"><div class="sidebarViewport_jGCa"><div class="sidebar_qeF4"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_zVLo"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro"><span title="Intro" class="linkLabel_B1Ev">Intro</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/firewall"><span title="Ports &amp; Firewall" class="linkLabel_B1Ev">Ports &amp; Firewall</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/installation"><span title="Installation Guide" class="linkLabel_B1Ev">Installation Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/security-overview"><span title="Security Overview" class="linkLabel_B1Ev">Security Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_sjRC menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/user-guide/overview"><span title="User Guide" class="categoryLinkLabel_MUaB">User Guide</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/overview"><span title="Overview" class="linkLabel_B1Ev">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/moderator"><span title="Moderator Guide" class="linkLabel_B1Ev">Moderator Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/attendee"><span title="Attendee Guide" class="linkLabel_B1Ev">Attendee Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/wordPress-integration"><span title="WordPress Integration" class="linkLabel_B1Ev">WordPress Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/moodle-integration"><span title="Moodle Integration" class="linkLabel_B1Ev">Moodle Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/joomla-integration"><span title="Joomla Integration" class="linkLabel_B1Ev">Joomla Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/lti"><span title="LTI Integration" class="linkLabel_B1Ev">LTI Integration</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_sjRC menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/developer-guide/intro"><span title="Developer Guide" class="categoryLinkLabel_MUaB">Developer Guide</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/intro"><span title="Introduction" class="linkLabel_B1Ev">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/setup-development"><span title="Setting up for development" class="linkLabel_B1Ev">Setting up for development</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/design-customisation"><span title="Design Customisation" class="linkLabel_B1Ev">Design Customisation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/developer-guide/scalable-setup"><span title="Scalable Deployment" class="linkLabel_B1Ev">Scalable Deployment</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_sjRC menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tutorials/quick_php"><span title="Tutorials" class="categoryLinkLabel_MUaB">Tutorials</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_sjRC menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/api/intro"><span title="API" class="categoryLinkLabel_MUaB">API</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_sjRC menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/others/analytics"><span title="Others" class="categoryLinkLabel_MUaB">Others</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_nEkv"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_C2Zn"><div class="docItemContainer_rWOW"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_VCsS" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_QBms"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developer Guide</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Scalable Deployment</span></li></ul></nav><div class="tocCollapsible_Q7ER theme-doc-toc-mobile tocMobile_de4i"><button type="button" class="clean-btn tocCollapsibleButton_p0X5">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Scaling Your PlugNmeet Deployment</h1></header>
<p>This guide provides a high-level overview and recommended strategies for scaling a self-hosted plugNmeet deployment to support a large number of concurrent users across multiple servers.</p>
<h3 class="anchor anchorTargetStickyNavbar_f97l" id="before-you-begin-a-phased-approach-to-scaling">Before You Begin: A Phased Approach to Scaling<a href="#before-you-begin-a-phased-approach-to-scaling" class="hash-link" aria-label="Direct link to Before You Begin: A Phased Approach to Scaling" title="Direct link to Before You Begin: A Phased Approach to Scaling" translate="no">​</a></h3>
<p>It is critical to understand that a fully distributed, multi-server setup is the most advanced and complex configuration. For many users, simpler scaling strategies can provide the necessary performance boost without the added complexity.</p>
<p>We recommend approaching scaling in phases:</p>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="phase-1-isolate-the-recorder-the-most-common-bottleneck">Phase 1: Isolate the Recorder (The Most Common Bottleneck)<a href="#phase-1-isolate-the-recorder-the-most-common-bottleneck" class="hash-link" aria-label="Direct link to Phase 1: Isolate the Recorder (The Most Common Bottleneck)" title="Direct link to Phase 1: Isolate the Recorder (The Most Common Bottleneck)" translate="no">​</a></h4>
<p>For optimal performance, especially when recording frequently, we strongly recommend deploying the <strong><code>plugnmeet-recorder</code> on a dedicated server</strong>, separate from your main <code>plugnmeet-server</code> and LiveKit instance.</p>
<ul>
<li class=""><strong>Why?</strong> Recording, and especially RTMP streaming, can be a CPU-intensive process. Isolating it prevents recording jobs from impacting the performance of your live meetings.</li>
<li class=""><strong>When?</strong> This should be your first step if you notice performance degradation during active recordings.</li>
</ul>
<p>However, if you only plan to record sessions infrequently, running the recorder on the same server (as the default installation script does) is a perfectly viable option.</p>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="phase-2-vertically-scale-your-main-server">Phase 2: Vertically Scale Your Main Server<a href="#phase-2-vertically-scale-your-main-server" class="hash-link" aria-label="Direct link to Phase 2: Vertically Scale Your Main Server" title="Direct link to Phase 2: Vertically Scale Your Main Server" translate="no">​</a></h4>
<p>If you are not recording heavily but are still seeing performance issues, the next step is to <strong>vertically scale</strong> your single server. This simply means adding more CPU cores and RAM. A single, well-provisioned server can comfortably handle <strong>hundreds of concurrent users</strong>.</p>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="phase-3-go-fully-distributed">Phase 3: Go Fully Distributed<a href="#phase-3-go-fully-distributed" class="hash-link" aria-label="Direct link to Phase 3: Go Fully Distributed" title="Direct link to Phase 3: Go Fully Distributed" translate="no">​</a></h4>
<p>Only after you have isolated the recorder and vertically scaled your main server should you consider the fully distributed setup described in the rest of this guide. This advanced architecture is intended for very large-scale deployments where a single server is no longer sufficient.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_f97l" id="conceptual-architecture">Conceptual Architecture<a href="#conceptual-architecture" class="hash-link" aria-label="Direct link to Conceptual Architecture" title="Direct link to Conceptual Architecture" translate="no">​</a></h2>
<p>In a distributed setup, the core components of plugNmeet are separated onto different machines. A typical large-scale architecture consists of:</p>
<ol>
<li class=""><strong>Stateless Application &amp; Media Layers:</strong>
<ul>
<li class="">Multiple <code>plugnmeet-server</code> instances.</li>
<li class="">Multiple <code>LiveKit</code> media server instances.</li>
<li class="">A standard Load Balancer.</li>
</ul>
</li>
<li class=""><strong>Stateful &amp; Clustered Infrastructure Layers:</strong>
<ul>
<li class="">A <code>NATS</code> cluster.</li>
<li class="">A <code>Redis</code> cluster.</li>
<li class="">A <code>MariaDB</code> cluster.</li>
</ul>
</li>
<li class=""><strong>Horizontally Scaled Recorders:</strong>
<ul>
<li class="">Multiple <code>plugnmeet-recorder</code> instances.</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_f97l" id="component-scaling-strategy">Component Scaling Strategy<a href="#component-scaling-strategy" class="hash-link" aria-label="Direct link to Component Scaling Strategy" title="Direct link to Component Scaling Strategy" translate="no">​</a></h2>
<p>The key to a successful distributed setup is understanding how each component scales. The components fall into two main categories: stateless services that can be easily load-balanced, and stateful services that require their own specific clustering configurations.</p>
<h3 class="anchor anchorTargetStickyNavbar_f97l" id="1-stateless-application--media-layers">1. Stateless Application &amp; Media Layers<a href="#1-stateless-application--media-layers" class="hash-link" aria-label="Direct link to 1. Stateless Application &amp; Media Layers" title="Direct link to 1. Stateless Application &amp; Media Layers" translate="no">​</a></h3>
<p>These components can be placed behind a standard load balancer, whose primary role is to terminate SSL and distribute initial traffic.</p>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="the-plugnmeet-server">The plugNmeet Server<a href="#the-plugnmeet-server" class="hash-link" aria-label="Direct link to The plugNmeet Server" title="Direct link to The plugNmeet Server" translate="no">​</a></h4>
<p>The main <code>plugnmeet-server</code> application is <strong>stateless</strong>.</p>
<ul>
<li class=""><strong>Action:</strong> You can run multiple instances on different machines and place them behind a standard L4 or L7 load balancer using a simple algorithm like round-robin or least connections.</li>
<li class=""><strong>Configuration:</strong> Each instance must be configured to point to the same shared infrastructure (NATS, Redis, and MariaDB).</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="livekit-media-server">LiveKit Media Server<a href="#livekit-media-server" class="hash-link" aria-label="Direct link to LiveKit Media Server" title="Direct link to LiveKit Media Server" translate="no">​</a></h4>
<p>LiveKit also works behind a load balancer for initial connections.</p>
<ul>
<li class=""><strong>Action:</strong> The load balancer can terminate SSL and proxy the initial connection to any available LiveKit node.</li>
<li class=""><strong>Critical Note:</strong> Once the connection is established, LiveKit&#x27;s own internal clustering logic handles all complex media routing. It is <strong>essential to follow the official LiveKit documentation for clustering</strong> to configure the backend correctly.</li>
<li class=""><strong>Firewall Configuration:</strong> Ensure that your firewall rules allow the necessary TCP and UDP ports for WebRTC traffic to reach your LiveKit instances. For a detailed list of required ports, please refer to our <strong><a class="" href="/docs/firewall">Firewall Configuration Guide</a></strong>.</li>
<li class=""><strong>Dependency:</strong> A standalone or clustered Redis instance is required for LiveKit clustering.</li>
</ul>
<p>**(Link: <a href="https://docs.livekit.io/home/self-hosting/distributed" target="_blank" rel="noopener noreferrer" class="">Official LiveKit Clustering Guide</a>)</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_f97l" id="2-stateful--clustered-infrastructure-layers">2. Stateful &amp; Clustered Infrastructure Layers<a href="#2-stateful--clustered-infrastructure-layers" class="hash-link" aria-label="Direct link to 2. Stateful &amp; Clustered Infrastructure Layers" title="Direct link to 2. Stateful &amp; Clustered Infrastructure Layers" translate="no">​</a></h3>
<p><strong>Critical Warning:</strong> The following components have their own robust clustering and service discovery mechanisms. Placing them behind a standard, simple TCP/L4 load balancer without specific, advanced configuration is <strong>highly likely to cause system instability, data corruption, or complete failure.</strong> Always follow the official clustering documentation for these services.</p>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="nats-messaging-system">NATS Messaging System<a href="#nats-messaging-system" class="hash-link" aria-label="Direct link to NATS Messaging System" title="Direct link to NATS Messaging System" translate="no">​</a></h4>
<ul>
<li class=""><strong>Recommendation:</strong> NATS has its own clustering and client routing capabilities. Your <code>plugnmeet-server</code> and <code>plugnmeet-recorder</code> clients should be configured with a list of all NATS nodes in the cluster. The clients will automatically handle failover.</li>
<li class=""><strong>Action:</strong> Follow the <strong>official NATS documentation for creating a cluster</strong>.</li>
</ul>
<p>**(Link: <a href="https://docs.nats.io/running-a-nats-service/configuration/clustering/jetstream_clustering" target="_blank" rel="noopener noreferrer" class="">Official NATS Clustering Documentation</a>)</p>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="mariadb-database">MariaDB Database<a href="#mariadb-database" class="hash-link" aria-label="Direct link to MariaDB Database" title="Direct link to MariaDB Database" translate="no">​</a></h4>
<ul>
<li class=""><strong>Recommendation:</strong> For high availability, the database must be clustered. All <code>plugnmeet-server</code> instances must point to the same database cluster.</li>
<li class=""><strong>Action:</strong> Use a managed, high-availability database service from a cloud provider, or set up your own solution like a MariaDB Galera Cluster. Follow the official documentation for your chosen solution.</li>
</ul>
<p>**(Link: <a href="https://mariadb.com/docs/server/ha-and-performance/standard-replication/setting-up-replication" target="_blank" rel="noopener noreferrer" class="">Official MariaDB Documentation</a>)</p>
<h4 class="anchor anchorTargetStickyNavbar_f97l" id="redis-cache">Redis Cache<a href="#redis-cache" class="hash-link" aria-label="Direct link to Redis Cache" title="Direct link to Redis Cache" translate="no">​</a></h4>
<ul>
<li class=""><strong>Recommendation:</strong> For a highly available LiveKit cluster, your Redis instance must also be highly available.</li>
<li class=""><strong>Action:</strong> Use a managed Redis service or set up your own Redis Cluster or Sentinel configuration. Your LiveKit nodes should be configured to connect to this cluster directly.</li>
</ul>
<p>**(Link: <a href="https://redis.io/docs/latest/operate/oss_and_stack/management/sentinel" target="_blank" rel="noopener noreferrer" class="">Official Redis Sentinel Clustering Documentation</a>)</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_f97l" id="3-the-plugnmeet-recorder">3. The plugNmeet Recorder<a href="#3-the-plugnmeet-recorder" class="hash-link" aria-label="Direct link to 3. The plugNmeet Recorder" title="Direct link to 3. The plugNmeet Recorder" translate="no">​</a></h3>
<p>The <code>plugnmeet-recorder</code> is a special case. While it is stateful during a job, its discovery and load balancing are handled automatically.</p>
<ul>
<li class=""><strong>Load Balancing &amp; Discovery:</strong> The recorder does <strong>not</strong> require an external load balancer. Recorders automatically announce their availability over NATS, and the <code>plugnmeet-server</code> distributes jobs to them.</li>
<li class=""><strong>Configuration:</strong> Each recorder instance must be configured to connect to the same NATS cluster.</li>
<li class=""><strong>Shared Storage:</strong> It is <strong>critical</strong> that all recorder instances have access to the same shared storage location (e.g., NFS, S3) for the final recording files.</li>
<li class=""><strong>Action:</strong> For detailed setup, refer to the <strong>official <code>plugnmeet-recorder</code> repository README</strong>.</li>
</ul>
<p>**(Link: <a href="https://github.com/mynaparrot/plugNmeet-recorder" target="_blank" rel="noopener noreferrer" class="">Official plugNmeet-recorder README</a>)</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_f97l" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration" translate="no">​</a></h2>
<p>Once your distributed infrastructure is in place, you simply need to update your <code>config.yaml</code> file for each <code>plugnmeet-server</code> instance to point to the new clustered services.</p>
<div class="language-yaml codeBlockContainer_fMmN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VhtC"><pre tabindex="0" class="prism-code language-yaml codeBlock_H2kJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_yaRf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Example config snippet</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">redis_info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-redis-cluster-endpoint:6379&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ... other redis settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">database_info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-mariadb-cluster-endpoint&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_user&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_password&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">db</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;plugnmeet&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">nats_info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">nats_urls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nats://node1.your-domain.com:4222&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nats://node2.your-domain.com:4222&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nats://node3.your-domain.com:4222&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">livekit_info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://your-livekit-endpoint&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># The endpoint for your LiveKit cluster</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ... other livekit settings</span><br></span></code></pre></div></div>
<p>By following this conceptual guide and leveraging the official documentation for each component, you can build a robust, scalable plugNmeet deployment capable of supporting a massive user base.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_O7xt"><a href="https://github.com/mynaparrot/plugNmeet-docs/edit/main/docs/developer-guide/scalable-setup.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_egiK" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_FxMr"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/developer-guide/design-customisation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Design Customisation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorials/quick_php"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PHP Quick Start</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_dxM8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-you-begin-a-phased-approach-to-scaling" class="table-of-contents__link toc-highlight">Before You Begin: A Phased Approach to Scaling</a></li><li><a href="#conceptual-architecture" class="table-of-contents__link toc-highlight">Conceptual Architecture</a></li><li><a href="#component-scaling-strategy" class="table-of-contents__link toc-highlight">Component Scaling Strategy</a><ul><li><a href="#1-stateless-application--media-layers" class="table-of-contents__link toc-highlight">1. Stateless Application &amp; Media Layers</a></li><li><a href="#2-stateful--clustered-infrastructure-layers" class="table-of-contents__link toc-highlight">2. Stateful &amp; Clustered Infrastructure Layers</a></li><li><a href="#3-the-plugnmeet-recorder" class="table-of-contents__link toc-highlight">3. The plugNmeet Recorder</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Quick links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/intro">API</a></li><li class="footer__item"><a href="https://www.plugnmeet.cloud" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/mynaparrot/plugNmeet-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/2X2ZaCHu4C" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord chat<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/mynaparrot/plugNmeet-server" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://plugnmeet.medium.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://demo.plugnmeet.com/landing.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_AlCY"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 MynaParrot SL.</div></div></div></footer></div>
</body>
</html>